\doxysection{权限}
\label{group__permission}\index{权限@{权限}}
权限 的协作图\+:
% FIG 0
\doxysubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{group__permission_ga84c7dbf5cf2fdfb690f76348b60a8cb7}} 
\#define \mbox{\hyperlink{group__permission_ga84c7dbf5cf2fdfb690f76348b60a8cb7}{S\+\_\+\+IRUSR}}~0x00400
\begin{DoxyCompactList}\small\item\em 属主读权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_gad70001754261c15a1bdc8e876c6d09d7}} 
\#define \mbox{\hyperlink{group__permission_gad70001754261c15a1bdc8e876c6d09d7}{S\+\_\+\+IWUSR}}~0x00200
\begin{DoxyCompactList}\small\item\em 属主写权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_gaf10a35e3950795d6ee4e07157d000131}} 
\#define \mbox{\hyperlink{group__permission_gaf10a35e3950795d6ee4e07157d000131}{S\+\_\+\+IXUSR}}~0x00100
\begin{DoxyCompactList}\small\item\em 属主执行权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_ga4f5f280b929768113739fb34d6f7be8a}} 
\#define \mbox{\hyperlink{group__permission_ga4f5f280b929768113739fb34d6f7be8a}{S\+\_\+\+IRGRP}}~0x00040
\begin{DoxyCompactList}\small\item\em 属组读权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_gae6774871a90d9442f00abe18b87fee6e}} 
\#define \mbox{\hyperlink{group__permission_gae6774871a90d9442f00abe18b87fee6e}{S\+\_\+\+IWGRP}}~0x00020
\begin{DoxyCompactList}\small\item\em 属组写权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_ga042e69ac0e7dd56e5cfcd9e97d010323}} 
\#define \mbox{\hyperlink{group__permission_ga042e69ac0e7dd56e5cfcd9e97d010323}{S\+\_\+\+IXGRP}}~0x00010
\begin{DoxyCompactList}\small\item\em 属组执行权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_ga071147a0cb995036967c80f64b1f74b9}} 
\#define \mbox{\hyperlink{group__permission_ga071147a0cb995036967c80f64b1f74b9}{S\+\_\+\+IROTH}}~0x00004
\begin{DoxyCompactList}\small\item\em 其他用户读权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_ga5303f49f26293acdb9533756c78322fb}} 
\#define \mbox{\hyperlink{group__permission_ga5303f49f26293acdb9533756c78322fb}{S\+\_\+\+IWOTH}}~0x00002
\begin{DoxyCompactList}\small\item\em 其他用户写权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_ga40223db1b95a04f5b28cceb3c34cfebd}} 
\#define \mbox{\hyperlink{group__permission_ga40223db1b95a04f5b28cceb3c34cfebd}{S\+\_\+\+IXOTH}}~0x00001
\begin{DoxyCompactList}\small\item\em 其他用户执行权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_ga24a7a0ceb1e8f5f44cb1038bb829030d}} 
\#define \mbox{\hyperlink{group__permission_ga24a7a0ceb1e8f5f44cb1038bb829030d}{R\+\_\+\+OK}}~0x04
\begin{DoxyCompactList}\small\item\em 读权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_gae5acf4043c0903cda7436b108e29e8e6}} 
\#define \mbox{\hyperlink{group__permission_gae5acf4043c0903cda7436b108e29e8e6}{W\+\_\+\+OK}}~0x02
\begin{DoxyCompactList}\small\item\em 写权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_ga5e995ef7690698b62bf016b14fbc45ca}} 
\#define \mbox{\hyperlink{group__permission_ga5e995ef7690698b62bf016b14fbc45ca}{X\+\_\+\+OK}}~0x01
\begin{DoxyCompactList}\small\item\em 执行权限掩码 \end{DoxyCompactList}\item 
\mbox{\label{group__permission_ga54ca840ef047804fc85430b63983bca7}} 
\#define \mbox{\hyperlink{group__permission_ga54ca840ef047804fc85430b63983bca7}{HAVE\+\_\+\+ACCESS}}(ino,  mode,  ch)~(\mbox{\hyperlink{structinode}{inode}}\mbox{[}ino\mbox{]}.i\+\_\+stat.\+st\+\_\+mode \& mode ? ch \+: \textquotesingle{}-\/\textquotesingle{})
\begin{DoxyCompactList}\small\item\em 检查文件权限 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{函数}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{group__permission_ga99502b621ce1290a27c9dc3f9f1b1ff6}{access}} (const \mbox{\hyperlink{group__user_ga450623fc37d64234cf3afb2f91cd6bf0}{user\+\_\+t}} $\ast$\mbox{\hyperlink{structuser}{user}}, int ino, int mode)
\begin{DoxyCompactList}\small\item\em 验证用户权限。 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}


\doxysubsection{函数说明}
\mbox{\label{group__permission_ga99502b621ce1290a27c9dc3f9f1b1ff6}} 
\index{权限@{权限}!access@{access}}
\index{access@{access}!权限@{权限}}
\doxysubsubsection{\texorpdfstring{access()}{access()}}
{\footnotesize\ttfamily int access (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{group__user_ga450623fc37d64234cf3afb2f91cd6bf0}{user\+\_\+t}} $\ast$}]{user,  }\item[{int}]{ino,  }\item[{int}]{mode }\end{DoxyParamCaption})}



验证用户权限。 


\begin{DoxyParams}{参数}
{\em user} & 用户对象的指针 \\
\hline
{\em ino} & 文件的inode编号 \\
\hline
{\em mode} & 访问模式 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
int 成功返回0，失败或无权限返回-\/1。 
\end{DoxyReturn}
